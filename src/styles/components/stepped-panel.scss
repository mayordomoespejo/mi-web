@use "../variables" as *;
@use "../mixins" as *;

// Forma con borde inferior escalonado. Va dentro de .container en el Layout para alinearse con el resto.
.stepped-panel {
  width: 100%;
  min-height: 80px;
  border-radius: $radius-sm;
  overflow: hidden;
  flex-shrink: 0;

  @include up(md) {
    width: 35%;
  }
}

.stepped-panel__inner {
  width: 100%;
  min-height: 80px;
  background: $color-tertiary;
  clip-path: polygon(
    0 0,
    100% 0,
    100% 100%,
    50% 100%,
    50% 85%,
    25% 85%,
    25% 100%,
    0 100%,
    3% 100%,
    0 87%
  );
  display: flex;
  align-items: center;
  padding: $space-4 $space-5;
  box-sizing: border-box;
  overflow: visible; /* para que el separador que sobresale con margen negativo no se recorte */
}

// Contenido: columna izquierda (mme + subtítulo) | separador | botones de traducción a la derecha.
.stepped-panel__content {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  gap: $space-5;
}

// Línea discontinua vertical: el pseudo-elemento llega al borde superior e inferior del panel.
.stepped-panel__separator {
  position: relative;
  align-self: stretch;
  width: 2px;
  flex-shrink: 0;

  &::before {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    top: -$space-4;
    bottom: -$space-4;
    background: repeating-linear-gradient(
      to bottom,
      $color-primary 0,
      $color-primary 4px,
      transparent 4px,
      transparent 8px
    );
  }
}

// Columna izquierda: mme arriba, subtítulo abajo.
.stepped-panel__left {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: $space-1;
  min-width: 0;
  flex: 1;
}

// Derecha del panel: botones de idioma en columna.
.stepped-panel__right {
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: $space-2;
}

.stepped-panel__right .language-switcher {
  flex-direction: column;
  align-items: stretch;
}

// Subtítulo (rol/título profesional), alineado a la derecha de la columna izquierda.
.stepped-panel__subtitle {
  font-size: 0.75rem;
  font-weight: 500;
  color: $color-primary;
  letter-spacing: 0.02em;
  align-self: flex-end;
}
